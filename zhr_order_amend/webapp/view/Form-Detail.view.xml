<mvc:View 
	controllerName="com.epiuse.zhrorderamend.controller.Form-Detail" 
	xmlns="sap.m" 
	xmlns:semantic="sap.f.semantic"
	xmlns:footerbar="sap.ushell.ui.footerbar" 
	xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:unified="sap.ui.unified"
    xmlns:upload="sap.m.upload"
	xmlns:form="sap.ui.layout.form">
	
	<semantic:SemanticPage 
		id="Form-Detail"
		busy="{detailView>/busy}" 
		busyIndicatorDelay="{detailView>/delay}"
		showFooter="true">
		
		<semantic:titleHeading>
			<Title id="txtDetailTitle" level="H2"/>
		</semantic:titleHeading>
		
		<semantic:headerContent>
			<ObjectAttribute id="oaWorkItem" title="{i18n>xfldWi}" text=""/>
			<ObjectAttribute id="oaCreatedDate" title="{i18n>xfldCreateDate}" text=""/>
		</semantic:headerContent>
		
		<semantic:content>
			
			<VBox>
                <!-- Filled by the sales (Input by Initiator) -->
                <HBox class="sapUiSmallMarginTop" width="100%" justifyContent="Center">
                    <HBox class="roundedBorderRadius whiteBackground sapUiResponsiveContentPadding" width="100%" justifyContent="SpaceAround">
                        <HBox width="100%" justifyContent="Center">
                            <VBox width="50%">
                                <form:SimpleForm
                                    layout="ResponsiveGridLayout"
                                    editable="true"
                                    adjustLabelSpan="false"
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1">
                                    <form:content>
                                        <Label text="Requested By" />
                                        <Text id="txtdRequestedBy" />

                                        <Label text="Customer Name" />
                                        <Text id="txtdCustomerName" />

                                        <Label text="Branch/Sector Name" />
                                        <Text id="txtdBranchName" />

                                        <Label text="PO Date" />
                                        <Text id="txtdPoDate" />
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>

                            <VBox width="50%">
                                <form:SimpleForm
                                    layout="ResponsiveGridLayout"
                                    editable="true"
                                    adjustLabelSpan="false"
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1">
                                    <form:content>
                                        <Label text="Requested Date" />
                                        <Text id="txtdRequstDate" />

                                        <Label text="PO/Contract No." />
                                        <Text id="txtdContractNumber" />

                                        <Label text="Sales Order No." />
                                        <Text id="txtdSalesOrderNo" />

                                        <Label text="Request Type" />
                                        <HBox>
                                            <Text id="txtdAmendment" class="sapUiTinyMarginEnd" />
                                            <Text id="txtdCancellation" />
                                        </HBox>
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>
                        </HBox>
                    </HBox>
                </HBox>

                <!-- Change From/Change To -->
                <HBox class="sapUiSmallMarginTop" width="100%" justifyContent="Center">
                    <HBox width="100%" justifyContent="SpaceAround">
                        <VBox width="100%" alignItems="Center" justifyContent="Center">
                            <VBox class="sapUiSmallMarginBottom" width="90%">
                                <Table class="customHeaderHeight" headerText="Change From" inset="false" items="{changeFromPayload>/}">
                                    <columns>
                                        <Column>
                                            <Text text="Line Item No." />
                                        </Column>
                                        <Column importance="Low" demandPopin="true">
                                            <Text text="Unique Code" />
                                        </Column>
                                        <Column>
                                            <Text text="Quantity" />
                                        </Column>
                                        <Column>
                                            <Text/>
                                        </Column>
                                        <Column>
                                            <Text text="Total Amount (R)" />
                                        </Column>
                                        <Column>
                                            <Text text="Previous Customer Requested Delivery Date" />
                                        </Column>
                                    </columns>

                                    <items>
                                        <ColumnListItem>
                                            <cells>        
                                                <Text text="{changeFromPayload>Item}" />
                                                <Text text="{changeFromPayload>UniqueCode}" />
                                                <Text text="{changeFromPayload>Quantity}" />
                                                <Text text="{
                                                    path: 'changeFromPayload>Price',
                                                    formatter: '._formatCurrency'
                                                }" />
                                                <Text text="{
                                                    path: 'changeFromPayload>TotalAmount',
                                                    formatter: '._formatCurrency'
                                                }" />
                                                <Text text="{changeFromPayload>RequestedDate}" />
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </VBox>

                            <VBox width="90%">
                                <!-- <Table class="customHeaderHeight" headerText="Change To" inset="false" items="{selectedOrderItems>/selectedItems}" >
                                    <columns>
                                        <Column width="8em">
                                            <Text text="Line Item No." />
                                        </Column>
                                        <Column width="12em">
                                            <Text text="Unique Code" />
                                        </Column>
                                        <Column>
                                            <Text text="New Quantity" />
                                        </Column>
                                        <Column>
                                            <Text text="New Price" />
                                        </Column>
                                        <Column width="10em">
                                            <Text text="Total Amount (R)" />
                                        </Column>
                                        <Column width="15em">
                                            <Text text="New Customer Requested Delivery Date" />
                                        </Column>
                                        <Column width="50px"/>
                                    </columns>

                                    <items>
                                        <ColumnListItem>
                                            <cells>       
                                                <Text text="{selectedOrderItems>Item}" />
                                                <Input value="" />

                                                <HBox>
                                                    <Input type="Number" value="" />
                                                    <ComboBox selectedKey="" width="80px">
                                                        <core:Item key="M" text="M" />
                                                        <core:Item key="KG" text="KG" />
                                                    </ComboBox>
                                                </HBox>

                                                <HBox>
                                                    <Input type="Number" value="" />
                                                    <ComboBox selectedKey="" width="80px" >
                                                        <core:Item key="R/M" text="R/M" />
                                                        <core:Item key="R/KG" text="R/KG" />
                                                    </ComboBox>
                                                </HBox>

                                                <Input type="Number" value="" change="._onTotalAmountInputChange" />
                                                <DatePicker placeholder="Enter Date" value=""/>
                                                <Button icon="sap-icon://delete" press="onDeleteItem" />
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table> -->
                            </VBox>
                        </VBox>
                    </HBox>
                </HBox>

                <!-- Reason of Amendments -->
                <HBox class="sapUiSmallMarginTop" width="100%" justifyContent="Center">
                    <HBox width="90%" justifyContent="SpaceAround">
                        <HBox width="100%" justifyContent="Start">
                            <VBox width="100%">
                                <form:SimpleForm
                                    layout="ResponsiveGridLayout"
                                    editable="true"
                                    adjustLabelSpan="false"
                                    labelSpanXL="2"
                                    labelSpanL="2"
                                    labelSpanM="2"
                                    labelSpanS="12"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1">
                                    <form:content>
                                        <Label text="Reason of Amendments" />
                                        <TextArea value="{formDetails>/ReasonOfAmendments}" showExceededText="true" maxLength="2000" width="100%" height="100px" liveChange="handleLiveChange" valueLiveUpdate="true" />
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>
                        </HBox>
                    </HBox>
                </HBox>

                <!-- Order Progress -->
                <HBox class="sapUiSmallMarginTop" width="100%" justifyContent="Center">
                    <HBox width="90%" justifyContent="SpaceAround">
                        <HBox width="100%" justifyContent="Start">
                            <VBox width="100%">
                                <form:SimpleForm
                                    layout="ResponsiveGridLayout"
                                    editable="true"
                                    adjustLabelSpan="false"
                                    labelSpanXL="2"
                                    labelSpanL="2"
                                    labelSpanM="2"
                                    labelSpanS="12"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1">
                                    <form:content>
                                        <Label text="Order Progress" />
                                            <VBox>
                                                <CheckBox text="Not planned nor manufactured" select="onOrderProgressSelect" selected="{formDetails>/NotPlannedOrManufatured}" />
                                                <CheckBox text="Planned but not yet manufactured" select="onOrderProgressSelect" selected="{formDetails>/PlannedNotManufatured}" />
                                                <CheckBox text="Manufacturing but can be allocated to other orders" select="onOrderProgressSelect" selected="{formDetails>/ManufaturingAllocated}" />
                                                <CheckBox text="Manufacturing and cannot be allocated to other orders" select="onOrderProgressSelect" selected="{formDetails>/ManufacturingNotAllocated}" />
                                                <CheckBox text="Standard product and is promised to be sold out quickly" select="onOrderProgressSelect" selected="{formDetails>/StandardAndPromised}" />
                                                <CheckBox text="Nonstandard product and is promised to be sold out quickly" select="onOrderProgressSelect" selected="{formDetails>/NonstandardAndPromised}" />
                                                <CheckBox text="Nonstandard product and cannot be promised to be sold out quickly" select="onOrderProgressSelect" selected="{formDetails>/NonstandardAndNotPromised}" />
                                            </VBox>
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>
                        </HBox>
                    </HBox>
                </HBox>

                <!-- Plant Confirmation -->
                <HBox class="sapUiSmallMarginTop sapUiSmallMarginBottom" width="100%" justifyContent="Center">
                    <HBox width="90%" justifyContent="SpaceAround">
                        <HBox width="100%" justifyContent="Start">
                            <VBox width="100%">
                                <form:SimpleForm
                                    layout="ResponsiveGridLayout"
                                    editable="true"
                                    adjustLabelSpan="false"
                                    labelSpanXL="8"
                                    labelSpanL="8"
                                    labelSpanM="8"
                                    labelSpanS="12"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1">
                                    <form:content>
                                        <VBox>
                                            <Label text="Plant confirmation (Written email attached to this application form can be counted as the confirmation from plant): Yes" />

                                            <upload:UploadSet showIcons="true" uploadEnabled="true" terminationEnabled="true"
                                                uploadUrl="/sap/opu/odata/sap/ZHR_FIORI_FORMS_SRV/AttachmentSet" instantUpload="true" items="{path: 'oModelAttach>/items' }"
                                                beforeUploadStarts="onBeforeUploadStarts" uploadCompleted="onUploadComplete" maxFileSize="5">
                                                <upload:items>
                                                    <upload:UploadSetItem fileName="{oModelAttach>fileName}" visibleRemove="true" removePressed="onRemovePressed">
                                                        <upload:attributes>
                                                            <ObjectAttribute title="File Description" text="{oModelAttach>fileName}"/>
                                                        </upload:attributes>
                                                    </upload:UploadSetItem>
                                                </upload:items>
                                            </upload:UploadSet>
                                        </VBox>
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>
                        </HBox>
                    </HBox>
                </HBox>
            </VBox>
			
		</semantic:content>
		
		<semantic:closeAction>
			<semantic:CloseAction id="closeColumn" press=".onCloseDetailPress"/>
		</semantic:closeAction>
		
		<semantic:fullScreenAction>
			<semantic:FullScreenAction id="enterFullScreen"
				visible="{= !${device>/system/phone} &amp;&amp; !${appView>/actionButtonsInfo/midColumn/fullScreen}}" press=".toggleFullScreen"/>
		</semantic:fullScreenAction>
		
		<semantic:exitFullScreenAction>
			<semantic:ExitFullScreenAction id="exitFullScreen"
				visible="{= !${device>/system/phone} &amp;&amp; ${appView>/actionButtonsInfo/midColumn/fullScreen}}" press=".toggleFullScreen"/>
		</semantic:exitFullScreenAction>
		
		<semantic:footerCustomActions>
			<Button text="{i18n>xbutAck}" icon="sap-icon://activity-2" visible="{CanAck}" press=".onAcknowledge"/>
			<Button text="{i18n>xbutResub}" icon="sap-icon://redo" visible="{CanResub}" press=".onResubmit"/>
			<Button text="{i18n>xbutEdit}" icon="sap-icon://edit" visible="{CanEdit}" press=".onEdit"/>
			<Button text="{i18n>xbutPDF}" icon="sap-icon://pdf-attachment" press=".onPrintPDF"/>
		</semantic:footerCustomActions>
		
	</semantic:SemanticPage>
</mvc:View>